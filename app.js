!function(){"use strict";angular.module("app",["ngAnimate","ui.router","uiGmapgoogle-maps","firebase"])}(),function(){"use strict";function t(){var t=function(){return{serverUrl:"https://bandally.firebaseio.com/"}};return new t}angular.module("app").factory("config",t),t.$inject=[]}(),function(){"use strict";function t(t,e){e.otherwise("/"),t.state("home",{url:"/",controller:"HomeController",controllerAs:"home",templateUrl:"partials/home.html",resolve:{currentAuth:["auth",function(t){return t.$requireAuth()}]}}).state("login",{url:"/login",controller:"LoginController",controllerAs:"login",templateUrl:"partials/login.html",resolve:{currentAuth:["auth",function(t){return t.$waitForAuth()}]}}).state("tickets",{url:"/tickets",controller:"TicketsController",controllerAs:"tickets",templateUrl:"partials/tickets.html",resolve:{currentAuth:["auth",function(t){return t.$requireAuth()}]}}).state("tickets.add",{url:"/add",views:{"@":{controller:"TicketsAddController",controllerAs:"ticketsAdd",templateUrl:"partials/tickets-add.html"}},resolve:{currentAuth:["auth",function(t){return t.$requireAuth()}]}}).state("spots",{url:"/spots",controller:"SpotsController",controllerAs:"spots",templateUrl:"partials/spots.html",resolve:{currentAuth:["auth",function(t){return t.$requireAuth()}]}}).state("account",{url:"/account",controller:"AccountController",controllerAs:"account",templateUrl:"partials/account.html",resolve:{currentAuth:["auth",function(t){return t.$requireAuth()}]}})}angular.module("app").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e){t.$on("$stateChangeSuccess",function(e,r,n,o,u,i){t.pageName=r.controllerAs}),t.$on("$stateChangeError",function(t,r,n,o,u,i){"AUTH_REQUIRED"===i&&e.go("login")})}angular.module("app").run(t),t.$inject=["$rootScope","$state"]}(),function(){"use strict";function t(t){function e(){}var r=this;r.me=t,e()}angular.module("app").controller("AccountController",t),t.$inject=["currentAuth"]}(),function(){"use strict";function t(t){function e(){}var r=this;r.me=t,console.log(t),e()}angular.module("app").controller("HomeController",t),t.$inject=["currentAuth"]}(),function(){"use strict";function t(t,e,r){function n(){r&&t.go("home")}function o(){e.$authWithOAuthPopup("facebook").then(function(e){console.log("Logged in as:",e.uid),t.go("home")})["catch"](function(t){console.log("Authentication failed:",t)})}function u(){var t={email:i.mailAddress,password:i.password};e.$createUser(t).then(function(r){return console.log("User "+r.uid+" created successfully!"),e.$authWithPassword(t)}).then(function(t){console.log("Logged in as:",t.uid)})["catch"](function(t){console.error("Error: ",t)})}var i=this;i.fbLogin=o,i.mailLogin=u,n()}angular.module("app").controller("LoginController",t),t.$inject=["$state","auth","currentAuth"]}(),function(){"use strict";function t(t){function e(){r.map={center:{latitude:35.457624,longitude:139.633337},zoom:16},r.markers=[{id:1,latitude:35.459923,longitude:139.63529,title:"パシフィコ横浜"},{id:2,latitude:35.457511,longitude:139.632704,title:"みなとみらい駅"}]}var r=this;r.me=t,r.map={},r.markers=[],e()}angular.module("app").controller("SpotsController",t),t.$inject=["currentAuth"]}(),function(){"use strict";function t(t,e){function r(){}function n(){e.$add({departureDate:o.departureDate,arrivedDate:o.arrivedDate,destination:o.destination,languages:o.languages,message:o.message}).then(function(){t.go("tickets")})}var o=this;o.add=n,r()}angular.module("app").controller("TicketsAddController",t),t.$inject=["$state","ticket"]}(),function(){"use strict";function t(t){function e(){r.tickets=t}var r=this;r.tickets=[],e()}angular.module("app").controller("TicketsController",t),t.$inject=["ticket"]}(),function(){"use strict";function t(){return{templateUrl:"partials/header.html",scope:{},controller:e,controllerAs:"header",bindToController:!0}}function e(t,e){function r(){e.$onAuth(function(t){o.auth=t})}function n(){confirm("ログアウトします")&&(e.$unauth(),t.go("login"))}var o=this;o.auth={},o.logout=n,r()}angular.module("app").directive("header",t),t.$inject=[],e.$inject=["$state","auth"]}(),function(){"use strict";function t(t,e){var r=new Firebase(e.serverUrl);return t(r)}angular.module("app").factory("auth",t),t.$inject=["$firebaseAuth","config"]}(),function(){"use strict";function t(t,e){var r=new Firebase(e.serverUrl+"tickets");return t(r)}angular.module("app").factory("ticket",t),t.$inject=["$firebaseArray","config"]}(),function(){"use strict";function t(t,e){var r=new Firebase(e.serverUrl+"users");return t(r)}angular.module("app").factory("user",t),t.$inject=["$firebaseAuth","config"]}();
//# sourceMappingURL=app.js.map
