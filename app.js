!function(){"use strict";angular.module("app",["ngAnimate","ui.router","firebase"])}(),function(){"use strict";function t(){var t=function(){return{serverUrl:"https://omotenashi.firebaseio.com/"}};return new t}angular.module("app").factory("config",t),t.$inject=[]}(),function(){"use strict";function t(t,e){e.otherwise("/"),t.state("home",{url:"/",controller:"HomeController",controllerAs:"home",templateUrl:"partials/home.html",resolve:{currentAuth:["auth",function(t){return t.$requireAuth()}]}}).state("login",{url:"/login",controller:"LoginController",controllerAs:"login",templateUrl:"partials/login.html",resolve:{currentAuth:["auth",function(t){return t.$waitForAuth()}]}}).state("tickets",{url:"/tickets",controller:"TicketsController",controllerAs:"tickets",templateUrl:"partials/tickets.html",resolve:{currentAuth:["auth",function(t){return t.$requireAuth()}]}}).state("tickets.add",{url:"/add",views:{"@":{controller:"TicketsAddController",controllerAs:"ticketsAdd",templateUrl:"partials/tickets-add.html"}},resolve:{currentAuth:["auth",function(t){return t.$requireAuth()}]}})}angular.module("app").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e){t.$on("$stateChangeSuccess",function(e,n,r,o,i,u){t.pageName=n.controllerAs}),t.$on("$stateChangeError",function(t,n,r,o,i,u){"AUTH_REQUIRED"===u&&e.go("login")})}angular.module("app").run(t),t.$inject=["$rootScope","$state"]}(),function(){"use strict";function t(t){function e(){}var n=this;n.me=t,e()}angular.module("app").controller("HomeController",t),t.$inject=["currentAuth"]}(),function(){"use strict";function t(t,e,n){function r(){n&&t.go("home")}function o(){e.$authWithOAuthPopup("facebook").then(function(e){console.log("Logged in as:",e.uid),t.go("home")})["catch"](function(t){console.log("Authentication failed:",t)})}var i=this;i.fbLogin=o,r()}angular.module("app").controller("LoginController",t),t.$inject=["$state","auth","currentAuth"]}(),function(){"use strict";function t(t,e){function n(){}function r(){e.$add({departureDate:o.departureDate,arrivedDate:o.arrivedDate,destination:o.destination,languages:o.languages,message:o.message}).then(function(){t.go("tickets")})}var o=this;o.add=r,n()}angular.module("app").controller("TicketsAddController",t),t.$inject=["$state","ticket"]}(),function(){"use strict";function t(t){function e(){n.tickets=t}var n=this;n.tickets=[],e()}angular.module("app").controller("TicketsController",t),t.$inject=["ticket"]}(),function(){"use strict";function t(){return{templateUrl:"partials/header.html",scope:{},controller:e,controllerAs:"header",bindToController:!0}}function e(t,e){function n(){e.$onAuth(function(t){o.auth=t})}function r(){confirm("ログアウトします")&&(e.$unauth(),t.go("login"))}var o=this;o.auth={},o.logout=r,n()}angular.module("app").directive("header",t),t.$inject=[],e.$inject=["$state","auth"]}(),function(){"use strict";function t(t,e){var n=new Firebase(e.serverUrl);return t(n)}angular.module("app").factory("auth",t),t.$inject=["$firebaseAuth","config"]}(),function(){"use strict";function t(t,e){var n=new Firebase(e.serverUrl+"tickets");return t(n)}angular.module("app").factory("ticket",t),t.$inject=["$firebaseArray","config"]}(),function(){"use strict";function t(t,e){var n=new Firebase(e.serverUrl+"users");return t(n)}angular.module("app").factory("user",t),t.$inject=["$firebaseAuth","config"]}();
//# sourceMappingURL=app.js.map
