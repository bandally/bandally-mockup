{"version":3,"sources":["app.module.js","app.config.js","app.route.js","app.run.js","controllers/account.controller.js","controllers/home.controller.js","controllers/login.controller.js","controllers/spots.controller.js","controllers/tickets-add.controller.js","controllers/tickets.controller.js","directives/header.directive.js","services/account.service.js","services/auth.service.js","services/ticket.service.js","services/user.service.js"],"names":["angular","module","config","Config","serverUrl","factory","$inject","route","$stateProvider","$urlRouterProvider","otherwise","state","url","controller","controllerAs","templateUrl","resolve","currentAuth","auth","$requireAuth","$waitForAuth","views","@","run","$rootScope","$state","$on","event","toState","toParams","fromState","fromParams","error","pageName","go","AccountController","user","activate","vm","this","me","HomeController","LoginController","account","fbLogin","scope","$authWithOAuthPopup","join","then","fbLoginSuccess","fbLoginError","authData","console","log","uid","_authData","save","accountSaveSuccess","accountSaveError","ref","accountId","key","userData","name","facebook","email","split","fullName","displayName","gender","cachedUserProfile","imageUrl","profileImageURL","accountIds","languageIds","message","userSaveSuccess","userSaveError","mailLogin","inputData","mailAddress","password","$createUser","$authWithPassword","users","getAll","SpotsController","map","center","latitude","longitude","zoom","markers","id","photos","TicketsAddController","ticket","add","$add","departureDate","arrivedDate","destination","languages","TicketsController","tickets","header","HeaderController","bindToController","$onAuth","logout","confirm","$unauth","directive","$firebaseArray","$firebaseObject","Account","Firebase","data","newAccountRef","child","newAccount","merge","$save","$firebaseAuth","User","newUserRef","newUser"],"mappings":"CAAA,WACA,YAEAA,SAAAC,OAAA,OACA,YACA,YACA,oBACA,gBCPA,WACA,YAMA,SAAAC,KACA,GAAAC,GAAA,WACA,OACAC,UAAA,oCAGA,OAAA,IAAAD,GAVAH,QAAAC,OAAA,OAAAI,QAAA,SAAAH,GAEAA,EAAAI,cCLA,WACA,YAMA,SAAAC,GAAAC,EAAAC,GACAA,EAAAC,UAAA,KACAF,EACAG,MAAA,QACAC,IAAA,IACAC,WAAA,iBACAC,aAAA,OACAC,YAAA,qBACAC,SACAC,aAAA,OAAA,SAAAC,GACA,MAAAA,GAAAC,oBAIAR,MAAA,SACAC,IAAA,SACAC,WAAA,kBACAC,aAAA,QACAC,YAAA,sBACAC,SACAC,aAAA,OAAA,SAAAC,GACA,MAAAA,GAAAE,oBAIAT,MAAA,WACAC,IAAA,WACAC,WAAA,oBACAC,aAAA,UACAC,YAAA,wBACAC,SACAC,aAAA,OAAA,SAAAC,GACA,MAAAA,GAAAC,oBAIAR,MAAA,eACAC,IAAA,OACAS,OACAC,KACAT,WAAA,uBACAC,aAAA,aACAC,YAAA,8BAGAC,SACAC,aAAA,OAAA,SAAAC,GACA,MAAAA,GAAAC,oBAIAR,MAAA,SACAC,IAAA,SACAC,WAAA,kBACAC,aAAA,QACAC,YAAA,sBACAC,SACAC,aAAA,OAAA,SAAAC,GACA,MAAAA,GAAAC,oBAIAR,MAAA,WACAC,IAAA,WACAC,WAAA,oBACAC,aAAA,UACAC,YAAA,wBACAC,SACAC,aAAA,OAAA,SAAAC,GACA,MAAAA,GAAAC,oBAzEAnB,QAAAC,OAAA,OAAAC,OAAAK,GAEAA,EAAAD,SAAA,iBAAA,yBCLA,WACA,YAMA,SAAAiB,GAAAC,EAAAC,GACAD,EAAAE,IAAA,sBAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACAR,EAAAS,SAAAL,EAAAd,eAEAU,EAAAE,IAAA,oBAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,kBAAAA,GACAP,EAAAS,GAAA,WAVAlC,QAAAC,OAAA,OAAAsB,IAAAA,GAEAA,EAAAjB,SAAA,aAAA,aCLA,WACA,YAMA,SAAA6B,GAAAlB,EAAAmB,GAOA,QAAAC,MALA,GAAAC,GAAAC,IACAD,GAAAE,GAAAvB,EAEAoB,IATArC,QAAAC,OAAA,OAAAY,WAAA,oBAAAsB,GAEAA,EAAA7B,SAAA,cAAA,WCLA,WACA,YAMA,SAAAmC,GAAAxB,GAOA,QAAAoB,MALA,GAAAC,GAAAC,IACAD,GAAAE,GAAAvB,EAEAoB,IATArC,QAAAC,OAAA,OAAAY,WAAA,iBAAA4B,GAEAA,EAAAnC,SAAA,kBCLA,WACA,YAMA,SAAAoC,GAAAjB,EAAAkB,EAAAzB,EAAAD,EAAAmB,GAWA,QAAAC,KACApB,GACAQ,EAAAS,GAAA,QAIA,QAAAU,KACA,GAAAC,IAAA,iBAAA,QACA3B,GAAA4B,oBAAA,YACAD,MAAAA,EAAAE,SACAC,KAAAC,GAFA/B,SAEAgC,GAGA,QAAAD,GAAAE,GACAC,QAAAC,IAAA,gBAAAF,EAAAG,KACAC,EAAAJ,EACAR,EAAAa,KAAAD,GAAAP,KAAAS,EAAAC,GAGA,QAAAR,GAAAlB,GACAoB,QAAAC,IAAA,yBAAArB,GAGA,QAAAyB,GAAAE,GACA,GAAAC,GAAAD,EAAAE,MACAC,GACAC,KAAAR,EAAAS,SAAAC,MAAAC,MAAA,KAAA,GACAC,SAAAZ,EAAAS,SAAAI,YACAH,MAAAV,EAAAS,SAAAC,MACAI,OAAAd,EAAAS,SAAAM,kBAAAD,OACAE,SAAAhB,EAAAS,SAAAQ,gBACAC,YAAAb,GACAc,YAAA,KACAC,QAAA,KAEAvC,GAAAoB,KAAAM,GAAAd,KAAA4B,EAAAC,GAGA,QAAAnB,GAAA1B,GACAoB,QAAAC,IAAArB,GAGA,QAAA4C,GAAAjB,GACAlC,EAAAS,GAAA,QAGA,QAAA2C,GAAA7C,GACAoB,QAAAC,IAAArB,GAGA,QAAA8C,KACA,GAAAC,IACAd,MAAA3B,EAAA0C,YACAC,SAAA3C,EAAA2C,SAGA/D,GAAAgE,YAAAH,GAAA/B,KAAA,SAAAc,GAEA,MADAV,SAAAC,IAAA,QAAAS,EAAAR,IAAA,0BACApC,EAAAiE,kBAAAJ,KACA/B,KAAA,SAAAG,GACAC,QAAAC,IAAA,gBAAAF,EAAAG,OAJApC,SAKA,SAAAc,GACAoB,QAAApB,MAAA,UAAAA,KAvEA,GAAAuB,MAEAjB,EAAAC,IACAD,GAAAM,QAAAA,EACAN,EAAAwC,UAAAA,EACAxC,EAAA8C,MAAAhD,EAAAiD,SAEAhD,IAbArC,QAAAC,OAAA,OAAAY,WAAA,kBAAA6B,GAEAA,EAAApC,SAAA,SAAA,UAAA,OAAA,cAAA,WCLA,WACA,YAMA,SAAAgF,GAAArE,GASA,QAAAoB,KACAC,EAAAiD,KACAC,QACAC,SAAA,UACAC,UAAA,YAEAC,KAAA,IAEArD,EAAAsD,UAEAC,GAAA,EACAJ,SAAA,UACAC,UAAA,UACA3B,KAAA,UACA+B,SAEAlF,IAAA,4EAKAiF,GAAA,EACAJ,SAAA,UACAC,UAAA,WACA3B,KAAA,UACA+B,SAEAlF,IAAA,qFAKAiF,GAAA,uBACA9B,KAAA,0BACA0B,SAAA,WACAC,UAAA,YACAI,SAEAD,GAAA,WACAjF,IAAA,6GA9CA,GAAA0B,GAAAC,IACAD,GAAAE,GAAAvB,EACAqB,EAAAiD,OACAjD,EAAAsD,WAEAvD,IAXArC,QAAAC,OAAA,OAAAY,WAAA,kBAAAyE,GAEAA,EAAAhF,SAAA,kBCLA,WACA,YAMA,SAAAyF,GAAAtE,EAAAuE,GAMA,QAAA3D,MAEA,QAAA4D,KACAD,EAAAE,MACAC,cAAA7D,EAAA6D,cACAC,YAAA9D,EAAA8D,YACAC,YAAA/D,EAAA+D,YACAC,UAAAhE,EAAAgE,UACA3B,QAAArC,EAAAqC,UACA3B,KAAA,WACAvB,EAAAS,GAAA,aAfA,GAAAI,GAAAC,IACAD,GAAA2D,IAAAA,EAEA5D,IARArC,QAAAC,OAAA,OAAAY,WAAA,uBAAAkF,GAEAA,EAAAzF,SAAA,SAAA,aCLA,WACA,YAMA,SAAAiG,GAAAP,GAMA,QAAA3D,KACAC,EAAAkE,QAAAR,EANA,GAAA1D,GAAAC,IACAD,GAAAkE,WAEAnE,IARArC,QAAAC,OAAA,OAAAY,WAAA,oBAAA0F,GAEAA,EAAAjG,SAAA,aCLA,WACA,YAMA,SAAAmG,KACA,OACA1F,YAAA,uBACA8B,SACAhC,WAAA6F,EACA5F,aAAA,SACA6F,kBAAA,GAMA,QAAAD,GAAAjF,EAAAP,GAQA,QAAAmB,KACAnB,EAAA0F,QAAA,SAAAzD,GACAb,EAAApB,KAAAiC,IAIA,QAAA0D,KACAC,QAAA,cAGA5F,EAAA6F,UACAtF,EAAAS,GAAA,UAjBA,GAAAI,GAAAC,IACAD,GAAApB,QACAoB,EAAAuE,OAAAA,EAEAxE,IAtBArC,QAAAC,OAAA,OAAA+G,UAAA,SAAAP,GAEAA,EAAAnG,WAYAoG,EAAApG,SAAA,SAAA,WCjBA,WACA,YAMA,SAAAqC,GAAAsE,EAAAC,EAAAhH,GAIA,QAAAiH,KACA,GAAAxD,GAAA,GAAAyD,UAAAlH,EAAAE,UAAA,WACA,QACAiF,OAAA,WACA,MAAA4B,GAAAtD,IAEAsC,IAAA,SAAAoB,GACA,MAAAJ,GAAAtD,GAAAuC,KAAAmB,IAEA7D,KAAA,SAAA6D,GACA,GAAAC,GAAA3D,EAAA4D,MAAAF,EAAA/D,KACAkE,EAAAN,EAAAI,EAEA,OADAE,GAAAxH,QAAAyH,MAAAD,EAAAH,GACAG,EAAAE,UAfA,MAAA,IAAAP,GANAnH,QAAAC,OAAA,OAAAI,QAAA,UAAAsC,GAEAA,EAAArC,SAAA,iBAAA,kBAAA,aCLA,WACA,YAMA,SAAAY,GAAAyG,EAAAzH,GACA,GAAAyD,GAAA,GAAAyD,UAAAlH,EAAAE,UACA,OAAAuH,GAAAhE,GANA3D,QAAAC,OAAA,OAAAI,QAAA,OAAAa,GAEAA,EAAAZ,SAAA,gBAAA,aCLA,WACA,YAMA,SAAA0F,GAAAiB,EAAA/G,GACA,GAAAyD,GAAA,GAAAyD,UAAAlH,EAAAE,UAAA,UACA,OAAA6G,GAAAtD,GANA3D,QAAAC,OAAA,OAAAI,QAAA,SAAA2F,GAEAA,EAAA1F,SAAA,iBAAA,aCLA,WACA,YAMA,SAAA8B,GAAA6E,EAAAC,EAAAhH,GAIA,QAAA0H,KACA,GAAAjE,GAAA,GAAAyD,UAAAlH,EAAAE,UAAA,QACA,QACAiF,OAAA,WACA,MAAA4B,GAAAtD,IAEAsC,IAAA,SAAAoB,GACA,MAAAJ,GAAAtD,GAAAuC,KAAAmB,IAEA7D,KAAA,SAAA6D,GACA,GAAAQ,GAAAlE,EAAA4D,MAAAF,EAAAtD,MACA+D,EAAAZ,EAAAW,EAEA,OADAC,GAAA9H,QAAAyH,MAAAK,EAAAT,GACAS,EAAAJ,UAfA,MAAA,IAAAE,GANA5H,QAAAC,OAAA,OAAAI,QAAA,OAAA+B,GAEAA,EAAA9B,SAAA,iBAAA,kBAAA","file":"app.js","sourcesContent":["(function () {\n  'use strict';\n\n  angular.module('app', [\n    'ngAnimate',\n    'ui.router',\n    'uiGmapgoogle-maps',\n    'firebase'\n  ]);\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').factory('config', config);\n\n  config.$inject = [];\n\n  function config() {\n    var Config = function () {\n      return {\n        'serverUrl': 'https://bandally.firebaseio.com/'\n      };\n    };\n    return new Config();\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').config(route);\n\n  route.$inject = ['$stateProvider', '$urlRouterProvider'];\n\n  function route($stateProvider, $urlRouterProvider) {\n    $urlRouterProvider.otherwise('/');\n    $stateProvider\n      .state('home', {\n        url: '/',\n        controller: 'HomeController',\n        controllerAs: 'home',\n        templateUrl: 'partials/home.html',\n        resolve: {\n          currentAuth: ['auth', function(auth) {\n            return auth.$requireAuth();\n          }]\n        }\n      })\n      .state('login', {\n        url: '/login',\n        controller: 'LoginController',\n        controllerAs: 'login',\n        templateUrl: 'partials/login.html',\n        resolve: {\n          currentAuth: ['auth', function(auth) {\n            return auth.$waitForAuth();\n          }]\n        }\n      })\n      .state('tickets', {\n        url: '/tickets',\n        controller: 'TicketsController',\n        controllerAs: 'tickets',\n        templateUrl: 'partials/tickets.html',\n        resolve: {\n          currentAuth: ['auth', function(auth) {\n            return auth.$requireAuth();\n          }]\n        }\n      })\n      .state('tickets.add', {\n        url: '/add',\n        views: {\n          \"@\": {\n            controller: 'TicketsAddController',\n            controllerAs: 'ticketsAdd',\n            templateUrl: 'partials/tickets-add.html'\n          }\n        },\n        resolve: {\n          currentAuth: ['auth', function(auth) {\n            return auth.$requireAuth();\n          }]\n        }\n      })\n      .state('spots', {\n        url: '/spots',\n        controller: 'SpotsController',\n        controllerAs: 'spots',\n        templateUrl: 'partials/spots.html',\n        resolve: {\n          currentAuth: ['auth', function(auth) {\n            return auth.$requireAuth();\n          }]\n        }\n      })\n      .state('account', {\n        url: '/account',\n        controller: 'AccountController',\n        controllerAs: 'account',\n        templateUrl: 'partials/account.html',\n        resolve: {\n          currentAuth: ['auth', function(auth) {\n            return auth.$requireAuth();\n          }]\n        }\n      });\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').run(run);\n\n  run.$inject = ['$rootScope', '$state'];\n\n  function run($rootScope, $state) {\n    $rootScope.$on('$stateChangeSuccess', function (event, toState, toParams, fromState, fromParams, error) {\n      $rootScope.pageName = toState.controllerAs;\n    });\n    $rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {\n      if (error === 'AUTH_REQUIRED') {\n        $state.go('login');\n      }\n    });\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').controller('AccountController', AccountController);\n\n  AccountController.$inject = ['currentAuth', 'user'];\n\n  function AccountController(currentAuth, user) {\n\n    var vm = this;\n    vm.me = currentAuth;\n\n    activate();\n\n    function activate() {\n      // user.add({\n      //   name: 'yosket87',\n      //   fullName: 'Yosuke Tanaka',\n      //   gender: 1,\n      //   imageUrl: 'https://scontent.xx.fbcdn.net/hprofile-xpa1/v/t1.0-1/s100x100/166494_166271906752589_121321_n.jpg?oh=6c157593b77c3fb3f8fa28d272e9448d&oe=56F75B0B',\n      //   accountIds: ['-K3SXjKUrHG9kZRbNvn-'],\n      //   languageIds: [1],\n      //   message: 'message message message message message message message '\n      // })\n    }\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').controller('HomeController', HomeController);\n\n  HomeController.$inject = ['currentAuth'];\n\n  function HomeController(currentAuth) {\n\n    var vm = this;\n    vm.me = currentAuth;\n\n    activate();\n\n    function activate() {}\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').controller('LoginController', LoginController);\n\n  LoginController.$inject = ['$state', 'account', 'auth', 'currentAuth', 'user'];\n\n  function LoginController($state, account, auth, currentAuth, user) {\n\n    var _authData = {};\n\n    var vm = this;\n    vm.fbLogin = fbLogin;\n    vm.mailLogin = mailLogin;\n    vm.users = user.getAll();\n\n    activate();\n\n    function activate() {\n      if (currentAuth) {\n        $state.go('home');\n      }\n    }\n\n    function fbLogin() {\n      var scope = ['public_profile', 'email'];\n      auth.$authWithOAuthPopup('facebook', {\n        scope: scope.join()\n      }).then(fbLoginSuccess).catch(fbLoginError);\n    }\n\n    function fbLoginSuccess(authData) {\n      console.log('Logged in as:', authData.uid);\n      _authData = authData;\n      account.save(_authData).then(accountSaveSuccess, accountSaveError);\n    }\n\n    function fbLoginError(error) {\n      console.log('Authentication failed:', error);\n    }\n\n    function accountSaveSuccess(ref) {\n      var accountId = ref.key();\n      var userData = {\n        name: _authData.facebook.email.split('@')[0],\n        fullName: _authData.facebook.displayName,\n        email: _authData.facebook.email,\n        gender: _authData.facebook.cachedUserProfile.gender,\n        imageUrl: _authData.facebook.profileImageURL,\n        accountIds: [accountId],\n        languageIds: null,\n        message: null\n      };\n      user.save(userData).then(userSaveSuccess, userSaveError);\n    }\n\n    function accountSaveError(error) {\n      console.log(error);\n    }\n\n    function userSaveSuccess(ref) {\n      $state.go('home');\n    }\n\n    function userSaveError(error) {\n      console.log(error);\n    }\n\n    function mailLogin() {\n      var inputData = {\n        email   : vm.mailAddress,\n        password: vm.password\n      };\n\n      auth.$createUser(inputData).then(function (userData) {\n        console.log(\"User \" + userData.uid + \" created successfully!\");\n        return auth.$authWithPassword(inputData);\n      }).then(function (authData) {\n        console.log(\"Logged in as:\", authData.uid);\n      }).catch(function (error) {\n        console.error(\"Error: \", error);\n      });\n      return;\n\n      // auth.$authWithPassword(inputData).then(function (authData) {\n      //   console.log(\"Logged in as:\", authData.uid);\n      //   $state.go('home');\n      // }).catch(function (error) {\n      //   if (error) {\n      //     auth.$createUser(inputData).then(function (userData) {\n      //       console.log(\"User \" + userData.uid + \" created successfully!\");\n      //       return auth.$authWithPassword(inputData);\n      //     }).then(function (authData) {\n      //       console.log(\"Logged in as:\", authData.uid);\n      //     }).catch(function (error) {\n      //       console.error(\"Error: \", error);\n      //     });\n      //   }\n      // });\n    }\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').controller('SpotsController', SpotsController);\n\n  SpotsController.$inject = ['currentAuth'];\n\n  function SpotsController(currentAuth) {\n\n    var vm = this;\n    vm.me = currentAuth;\n    vm.map = {};\n    vm.markers = [];\n\n    activate();\n\n    function activate() {\n      vm.map = {\n        center: {\n          latitude: 35.457624,\n          longitude: 139.633337\n        },\n        zoom: 16\n      };\n      vm.markers = [\n        {\n          \"id\":1,\n          \"latitude\":35.459923,\n          \"longitude\":139.635290,\n          \"name\":\"パシフィコ横浜\",\n          'photos': [\n            {\n              'url': 'https://upload.wikimedia.org/wikipedia/commons/c/c1/MinatoMirai21.jpg'\n            }\n          ]\n        },\n        {\n          \"id\":2,\n          \"latitude\":35.457511,\n          \"longitude\":139.632704,\n          \"name\":\"みなとみらい駅\",\n          'photos': [\n            {\n              'url': 'https://upload.wikimedia.org/wikipedia/commons/6/6d/Pacifico_Yokohama_2012.JPG'\n            }\n          ]\n        },\n        {\n          \"id\": '-K2wcXJywEnxfqTPLZ9J',\n          \"name\": 'カップヌードルミュージアム 安藤百福発明記念館',\n          \"latitude\": 35.4554834,\n          \"longitude\": 139.6366649,\n          \"photos\": [\n            {\n              \"id\": 'PHOTO_ID',\n              \"url\": 'http://robotic-person.c.blog.so-net.ne.jp/_images/blog/_40d/robotic-person/DSCF0079-20111014a.jpg?c=a1'\n            }\n          ]\n        }\n      ];\n    }\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').controller('TicketsAddController', TicketsAddController);\n\n  TicketsAddController.$inject = ['$state', 'ticket'];\n\n  function TicketsAddController($state, ticket) {\n    var vm = this;\n    vm.add = add;\n\n    activate();\n\n    function activate() {}\n\n    function add() {\n      ticket.$add({\n        departureDate: vm.departureDate,\n        arrivedDate: vm.arrivedDate,\n        destination: vm.destination,\n        languages: vm.languages,\n        message: vm.message\n      }).then(function () {\n        $state.go('tickets');\n      });\n    }\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').controller('TicketsController', TicketsController);\n\n  TicketsController.$inject = ['ticket'];\n\n  function TicketsController(ticket) {\n    var vm = this;\n    vm.tickets = [];\n\n    activate();\n\n    function activate() {\n      vm.tickets = ticket;\n    }\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').directive('header', header);\n\n  header.$inject = [];\n\n  function header() {\n    return {\n      templateUrl: 'partials/header.html',\n      scope: {},\n      controller: HeaderController,\n      controllerAs: 'header',\n      bindToController: true\n    };\n  }\n\n  HeaderController.$inject = ['$state', 'auth'];\n\n  function HeaderController($state, auth) {\n\n    var vm = this;\n    vm.auth = {};\n    vm.logout = logout;\n\n    activate();\n\n    function activate() {\n      auth.$onAuth(function (authData) {\n        vm.auth = authData;\n      });\n    }\n\n    function logout() {\n      if (!confirm('ログアウトします')) {\n        return;\n      }\n      auth.$unauth();\n      $state.go('login');\n    }\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').factory('account', account);\n\n  account.$inject = ['$firebaseArray', '$firebaseObject', 'config'];\n\n  function account($firebaseArray, $firebaseObject, config) {\n\n    return new Account();\n\n    function Account() {\n      var ref = new Firebase(config.serverUrl + 'accounts');\n      return {\n        getAll: function () {\n          return $firebaseArray(ref);\n        },\n        add: function (data) {\n          return $firebaseArray(ref).$add(data);\n        },\n        save: function (data) {\n          var newAccountRef = ref.child(data.uid);\n          var newAccount = $firebaseObject(newAccountRef);\n          newAccount = angular.merge(newAccount, data);\n          return newAccount.$save();\n        }\n      };\n    }\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').factory('auth', auth);\n\n  auth.$inject = ['$firebaseAuth', 'config'];\n\n  function auth($firebaseAuth, config) {\n    var ref = new Firebase(config.serverUrl);\n    return $firebaseAuth(ref);\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').factory('ticket', ticket);\n\n  ticket.$inject = ['$firebaseArray', 'config'];\n\n  function ticket($firebaseArray, config) {\n    var ref = new Firebase(config.serverUrl + 'tickets');\n    return $firebaseArray(ref);\n  }\n})();\n","(function () {\n  'use strict';\n\n  angular.module('app').factory('user', user);\n\n  user.$inject = ['$firebaseArray', '$firebaseObject', 'config'];\n\n  function user($firebaseArray, $firebaseObject, config) {\n\n    return new User();\n\n    function User() {\n      var ref = new Firebase(config.serverUrl + 'users');\n      return {\n        getAll: function () {\n          return $firebaseArray(ref);\n        },\n        add: function (data) {\n          return $firebaseArray(ref).$add(data);\n        },\n        save: function (data) {\n          var newUserRef = ref.child(data.name);\n          var newUser = $firebaseObject(newUserRef);\n          newUser = angular.merge(newUser, data);\n          return newUser.$save();\n        }\n      };\n    }\n  }\n})();\n"],"sourceRoot":"/source/"}